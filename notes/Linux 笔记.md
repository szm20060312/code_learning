# Linux 笔记

注：主要参考bilibili视频【黑马程序员新版Linux零基础快速入门到精通，全涵盖linux系统知识、常用软件环境部署、Shell脚本、云平台实践、大数据集群项目实战等】https://www.bilibili.com/video/BV1n84y1i7td?p=11&vd_source=add84eafe07f715a907e375ea151eb6a

## 基础命令

### 目录结构

Linux只有一个顶级目录（根目录）

根目录在Linux中表示为`/`

Example:

``` bash
/usr/local/hello.txt
```



### 命令入门

格式：`command [options] [parameter]`  命令+选项+参数



#### ls 展示当前工作目录

`ls` 以平铺形式，展示当前工作目录，默认`/home/usrname`

选项：

`-a`  展示隐藏内容，隐藏内容以`.`开头

`-l`  以列表展示

`-h`  需要和`-l`一起使用，以更人性化的方式显示文件的大小



#### cd切换工作目录 pwd输出当前工作目录

`cd`=`Change Directory` 切换工作目录

无选项，无参数

`pwd`=`Print Work Directory` 输出当前的工作目录

无选项，无参数



#### 相对路径和绝对路径

- 绝对路径：以根目录做起点，描述路径的方式，路径以/开头
- ﻿﻿相对路径：以当前目录做起点，描述路径的方式，路径不需以/开头

特殊路径符：

`.`表示当前目录，比如`cd .`或`cd ./Desktop`

`:`表示上一级目录，比如：`cd ..`或`cd ../..`

`~`表示用户的HOME目录，比如：`cd ~`、或`cd ~/Desktop`



#### mkdir 创建目录

`mkdir`命令的语法和功能：

- ﻿﻿`mkdir`用以创建新的目录（文件夹）
- ﻿﻿语法：`mkdir [-p] Linux路径`
- ﻿﻿参数必填，表示要创建的目录的路径，相对、绝对、特殊路径符都可以使用

`-p`选项可选，表示自动创建不存在的父目录，适用于创建连续多层级的目录



#### touch 创建文件

语法：`touch Linux路径`

参数必填，表示要创建的文件的路径，相对、绝对、特殊路径符都可以使用



#### cat 查看文件内容

语法：`cat Linux路径`

参数必填，表示要创建的文件的路径，相对、绝对、特殊路径符都可以使用



#### more 查看文件内容（可翻页查看）

语法：`more Linux路径`

参数必填，表示要创建的文件的路径，相对、绝对、特殊路径符都可以使用

使用空格进行翻页，使用q退出查看



#### cp 复制文件或文件夹

语法：`cp [-r]  参数1 参数2`

- ﻿﻿-r选项，可选，用于复制文件夹使用，表示递归
- ﻿﻿参数1，Linux路径，表示被复制的文件或文件夹
- ﻿﻿参数2，Linux路径，表示要复制去的地方



#### mv 查看文件内容

语法：`mv  参数1 参数2`

- ﻿﻿参数1，Linux路径，表示被移动的文件或文件夹
- ﻿﻿参数2，Linux路径，表示要移动去的地方，如果目标不存在，则进行改名，确保目标存在



#### which 查找

语法：`which 要查找的命令`

无需选项



#### find 查找文件

按文件名查找：`find 起始路径 -name "被查找文件名"`  （﻿﻿支持通配符）

﻿﻿按文件大小查找：`find 起始路径 -size +n [kMG]`  `find 起始路径 -size -n [kMG]`



#### grep 从文件中通过关键字过滤文本行

语法：`grep [-n] 关键字 文件路径`

选项`-n` 可选，表示在结果中显示匹配的行的行号。

参数，关键字，必填，表示过滤的关键字，建议使用`""`将关键字包围起来

参数，文件路径，必填，表示要过滤内容的文件路径，可作为管道符的输入



#### wc 统计文件的行数、单词数量、字节数、字符数等

语法：`wc [-c -m -l -w] 文件路径﻿﻿`

不带选项默认统计：行数、单词数、字节数

`-c` 字节数、`-m`字符数、`-l`行数、`-w`单词数

参数，被统计的文件路径，可作为管道符的输入



#### 管道符 |

将管道符左边命令的结果作为右边命令的输入



#### echo 输出指定内容

语法：`echo 输出的内容`

无需选项，只有一个参数，表示要输出的内容，复杂内容可以用`""`包围



#### ` 反引号符

被 `` ` 包围的内容，会被作为命令执行，而非普通字符



#### 重定向符

`>`将左侧命令的结果，覆盖写入到符号右侧指定的文件中

`>>`将左侧命令的结果，追加写入到符号右侧指定的文件中



#### tail 查看文件尾部的内容，可持续追踪

语法`tail [-f -num] Linux路径`

`-f`持续跟踪，`-num`启动的时候查看尾部多少行，默认10



#### vi vim

命令：

```bash
vi 文件路径
vim 文件路径
```

运行模式

1. 命令模式，默认的模式，可以通过键盘快捷键控制文件内容
2. 输入模式，通过命令模式进入，可以输入内容进行编辑，按esc退回命令模式
3. 底线命令模式，通过命令模式进入，可以对文件进行保存、关闭等操作



#### Vim 编辑器常用快捷键总结

##### 🧭 模式切换
| 快捷键     | 功能说明              |
| ---------- | --------------------- |
| `i`        | 进入插入模式 (insert) |
| `I`        | 在行首进入插入模式    |
| `a`        | 在光标后插入          |
| `A`        | 在行尾插入            |
| `v`        | 进入可视模式          |
| `V`        | 行可视模式            |
| `Ctrl + v` | 块可视模式（列编辑）  |
| `Esc`      | 返回普通模式          |
| `R`        | 进入替换模式          |

##### 📦 基本移动
| 快捷键 | 功能说明               |
| ------ | ---------------------- |
| `h`    | 左移一个字符           |
| `l`    | 右移一个字符           |
| `j`    | 下移一行               |
| `k`    | 上移一行               |
| `w`    | 跳到下一个词首         |
| `b`    | 跳到上一个词首         |
| `0`    | 跳到行首               |
| `^`    | 跳到行首第一个非空字符 |
| `$`    | 跳到行尾               |
| `gg`   | 跳到文件首             |
| `G`    | 跳到文件尾             |
| `:n`   | 跳转到第 n 行          |

##### ✏️ 编辑与操作
| 快捷键      | 功能说明                     |
| ----------- | ---------------------------- |
| `x`         | 删除光标所在字符             |
| `dd`        | 删除当前行                   |
| `yy`        | 复制当前行                   |
| `p`         | 粘贴到光标后                 |
| `P`         | 粘贴到光标前                 |
| `u`         | 撤销                         |
| `Ctrl + r`  | 重做                         |
| `r<char>`   | 替换光标所在字符             |
| `ciw`       | 删除并进入插入模式（一个词） |
| `c$`        | 删除至行尾并进入插入模式     |
| `>>` / `<<` | 向右/左缩进                  |

##### 🔍 查找与替换
| 快捷键             | 功能说明                 |
| ------------------ | ------------------------ |
| `/word`            | 向下查找 "word"          |
| `?word`            | 向上查找 "word"          |
| `n`                | 跳转到下一个匹配项       |
| `N`                | 跳转到上一个匹配项       |
| `:%s/old/new/g`    | 全文替换 "old" 为 "new"  |
| `:n,m s/old/new/g` | 替换第 n 到 m 行中的内容 |

##### 📁 文件与窗口
| 快捷键             | 功能说明           |
| ------------------ | ------------------ |
| `:w`               | 保存               |
| `:q`               | 退出               |
| `:wq`              | 保存并退出         |
| `:q!`              | 强制退出（不保存） |
| `:e 文件名`        | 打开文件           |
| `:vsp`             | 垂直分屏           |
| `:sp`              | 水平分屏           |
| `Ctrl + w`         | 窗口控制前缀       |
| `Ctrl + w h/j/k/l` | 切换到左右上下窗口 |

##### 📚 插件/补全/命令行模式
| 快捷键     | 功能说明                  |
| ---------- | ------------------------- |
| `:!命令`   | 执行外部命令（如 `:!ls`） |
| `Tab`      | 插入模式下补全            |
| `Ctrl + n` | 插入模式下向下补全建议    |
| `Ctrl + p` | 插入模式下向上补全建议    |
| `:`        | 进入命令行模式            |

##### 🧠 进阶技巧（可选学习）
| 快捷键                | 功能说明            |
| --------------------- | ------------------- |
| `.`                   | 重复上一次操作      |
| `@a`                  | 执行寄存器 a 中的宏 |
| `:set nu`             | 显示行号            |
| `:set relativenumber` | 显示相对行号        |
| `:noh`                | 取消高亮搜索结果    |



## Linux用户和权限

### root用户

root用户是Linux系统中拥有最高权限的用户。

切换到root用户` su - root`



### su 切换用户

su = Switch User

语法：`su [-] [用户名]`

`-`符号可选，表示是否在切换用户后加载环境变量

参数：用户名，表示要切换的用户，用户名也可以省略，省略表示切换到root

exit可以退回上一个用户，`ctrl + d`也可以

普通用户切换到其他用户**需要输入密码**

root用户切换到普通用户**无需密码**



### sudo 授权

`sudo 其他命令`为普通命令授权，临时以root身份执行



### 为普通用户添加sudo认证
