# C++ ä¸­çš„ `this` æŒ‡é’ˆè¯¦è§£

## âœ… ä»€ä¹ˆæ˜¯ `this` æŒ‡é’ˆï¼Ÿ

`this` æ˜¯ C++ ä¸­ç±»çš„æ¯ä¸ª **æˆå‘˜å‡½æ•°**éƒ½è‡ªåŠ¨æ‹¥æœ‰çš„ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ **å½“å‰æ­£åœ¨è°ƒç”¨è¯¥æˆå‘˜å‡½æ•°çš„å¯¹è±¡æœ¬èº«**ã€‚

------

## ğŸ“Œ ç‰¹ç‚¹æ€»ç»“

| ç‰¹æ€§         | æè¿°                                                      |
| ------------ | --------------------------------------------------------- |
| è‡ªåŠ¨å­˜åœ¨     | `this` åªåœ¨æˆå‘˜å‡½æ•°ä¸­æœ‰æ•ˆï¼Œè‡ªåŠ¨ä¼ å…¥                       |
| æŒ‡å‘å½“å‰å¯¹è±¡ | æŒ‡å‘æ­£åœ¨è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡                                  |
| ç±»å‹         | `ClassName*`ï¼ˆæŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆï¼‰                            |
| const å‡½æ•°ä¸­ | `this` æ˜¯ `const ClassName*` ç±»å‹ï¼Œä¸èƒ½é€šè¿‡å®ƒä¿®æ”¹æˆå‘˜å˜é‡ |

------

## ğŸ§ª ç¤ºä¾‹ï¼šæ„é€ å‡½æ•°ä¸­ä½¿ç”¨ `this`

```cpp
class Point {
private:
    int x, y;

public:
    Point(int x, int y) {
        this->x = x;  // åŒºåˆ†å‚æ•°å’Œæˆå‘˜å˜é‡
        this->y = y;
    }

    void display() const {
        cout << "(" << x << ", " << y << ")" << endl;
    }
};
```

ğŸ” `this->x` è¡¨ç¤ºè®¿é—®çš„æ˜¯ç±»çš„æˆå‘˜å˜é‡ï¼Œè€Œä¸æ˜¯æ„é€ å‡½æ•°å‚æ•° `x`ã€‚

------

## ğŸ” é“¾å¼è°ƒç”¨ä¸­ä½¿ç”¨ `*this`

```cpp
class Counter {
private:
    int count;

public:
    Counter(int c = 0) : count(c) {}

    Counter& increment() {
        ++count;
        return *this;  // è¿”å›å¯¹è±¡æœ¬èº«çš„å¼•ç”¨ï¼Œå®ç°é“¾å¼è°ƒç”¨
    }

    void display() const {
        cout << count << endl;
    }
};

int main() {
    Counter c;
    c.increment().increment().display(); // è¾“å‡º 2
}
```

ğŸ” é€šè¿‡ `return *this`ï¼Œå¯ä»¥è¿ç»­è°ƒç”¨å¤šä¸ªæˆå‘˜å‡½æ•°ã€‚

------

## ğŸ§  const æˆå‘˜å‡½æ•°ä¸­çš„ `this`

```cpp
void display() const {
    // this çš„ç±»å‹ä¸º const Point*ï¼Œä¸èƒ½ä¿®æ”¹æˆå‘˜å˜é‡
}
```

å¦‚æœè¯•å›¾åœ¨ const æˆå‘˜å‡½æ•°ä¸­ä¿®æ”¹æˆå‘˜å˜é‡ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚

------

## âš ï¸ æ³¨æ„äº‹é¡¹

- `this` ä¸èƒ½åœ¨é™æ€æˆå‘˜å‡½æ•°ä¸­ä½¿ç”¨ï¼ˆå› ä¸ºé™æ€å‡½æ•°æ²¡æœ‰ç‰¹å®šå¯¹è±¡ï¼‰ã€‚
- ä½¿ç”¨ `this` è¿”å›å¯¹è±¡å¼•ç”¨æ˜¯é“¾å¼è°ƒç”¨çš„åŸºç¡€ã€‚

------

## âœ… æ€»ç»“

| ç”¨æ³•         | ç¤ºä¾‹            | æ„ä¹‰                     |
| ------------ | --------------- | ------------------------ |
| åŒºåˆ†å˜é‡     | `this->x = x;`  | é¿å…æˆå‘˜å˜é‡ä¸å‚æ•°åå†²çª |
| é“¾å¼è°ƒç”¨     | `return *this;` | æ”¯æŒè¿ç»­è°ƒç”¨å¤šä¸ªå‡½æ•°     |
| æŒ‡å‘å½“å‰å¯¹è±¡ | `this`          | å½“å‰å¯¹è±¡çš„æŒ‡é’ˆ           |

`this` æ˜¯ç†è§£ C++ é¢å‘å¯¹è±¡è®¾è®¡ä¸­éå¸¸å…³é”®çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒè®©æˆå‘˜å‡½æ•°çŸ¥é“è‡ªå·±æ­£åœ¨ä¸ºå“ªä¸ªå¯¹è±¡å·¥ä½œã€‚

------

